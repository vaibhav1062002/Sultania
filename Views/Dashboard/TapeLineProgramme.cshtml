@{
    Layout = "~/Views/Shared/DashboardComan.cshtml";
}



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

@model SultaniaOil.ViewModels.TapeLineViewModel;

<style>
    /* Styles for the popup */
    #popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 20px;
        background: #fff;
        border: 1px solid #ccc;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        z-index: 9999;
    }
    /* Hide the table and calculation inputs initially */
    #dataTableWrapper,
    .form-group-total {
        display: none;
    }
    <!-- DataTables Buttons CSS -->
    .dataTables_wrapper .dataTables_length,
    .dataTables_wrapper .dataTables_buttons {
        margin-right: 20px;
    }
    /* Style the buttons with icons and colors */
    .dt-buttons .btn {
        background-color: #3498DB;
        /* Button background color */
        color: #fff;
        /* Button text color */
        border-color: #2980B9;
        /* Button border color */
    }

        .dt-buttons .btn:hover {
            background-color: #2980B9;
            /* Hover background color */
        }
    <!-- Customize button styles -->
    .dt-buttons button {
        color: rgb(252, 250, 250);
        font-weight: 500;
    }

    .dt-buttons button:hover {
        color: black;
    }

    .dt-buttons button.buttons-copy {
        background-color: #007BFF;
    }

    .dt-buttons button.buttons-csv {
        background-color: #28A745;
    }

    .dt-buttons button.buttons-excel {
        background-color: #FFC107;
    }

    .dt-buttons button.buttons-pdf {
        background-color: #DC3545;
    }

    .dt-buttons button.buttons-print {
        background-color: #6C757D;
    }

    .error-message {
        color: red;
    }
</style>



<div class="col-md-2">
    @if (TempData["TapeLineProSucc"] != null)
    {
        <div class="custom-alert" id="customAlert">
            Data Added Successfully ..!
        </div>
    }
</div>
<!-- <h2 style="margin-top: 20px;">UNUSED ROLL STOCK</h2> -->
<h5 class="panel-title" style="color:#FFFFFF; background-color:#009991; width:100%; font-size:14px;  padding: 6px; margin-top:2px;" align="center"> &nbsp;Tape Line Programme</h5>

  <div class="row">
    <div class="col-md-12">

        <form  action="/Dashboard/InsertTapeLinePro" method="post" onsubmit="return validateForm()" id="tapeLineProgram">



            <div class="col-md-5" style="margin-top: 2vh;">
                <table width="100%">
                    <tr style="height:30px;">
                        <th width="1%">Date</th>
                        <th width="3%">Program No</th>
                        <th width="3%">Job Code</th>
                        <th width="2%">Create Colour</th>
                        <th width="5%">Pen Making on Bobbin </th>
                    </tr>
                    <tr>
                        <td style="padding: 2px;" width="1%">
                            <input type="date" id="date" class="form-control" name="date" placeholder="" />
                            <span id="dateError" style="color: red;"></span>
                        </td>

                        <td style="padding: 2px;" width="4%">
                            <input type="text" class="form-control" id="programNo" name="ProgrameNo" placeholder="" />
                            <span id="programNoError" style="color: red;"></span>
                        </td>

                        <td style="padding: 2px;" width="2%">
                            <select class="form-control select" id="jobcode" name="JobCode" data-live-search="true">
                                @foreach (var jobCode in Model.JobCodeEntities)
                                {
                                    <option value="@jobCode.JobCode">@jobCode.JobCode</option>
                                }
                            </select>
                            <span id="jobcodeError" style="color: red;"></span>
                        </td>

                        <td style="padding: 2px;" width="2%">
                            <select class="form-control select" id="createcolor" name="CreateColor" data-live-search="true">
                                @foreach(var colorDetails in Model.ColorEntities){
                                    <option value="@colorDetails.Color">@colorDetails.Color</option>
                                    <option value="@colorDetails.ColorCode">@colorDetails.ColorCode</option>
                                }
                            </select>
                            <span id="createcolorError" style="color: red;"></span>
                        </td>

                        <td style="padding: 2px;" width="2%">
                            <select class="form-control select" id="bobine" name="Bobin" data-live-search="true">
                                @foreach (var bobbins in Model.BobbinEntities)
                                {
                                    <option value="@bobbins.Bobbin">@bobbins.Bobbin</option>
                                }
                            </select>
                            <span id="bobineError" style="color: red;"></span>
                        </td>


                    </tr>
                </table>
            </div>



@* 
            <div class="col-md-5" style="margin-top: 20px;">
                <table class="table table-bordered table-dark" id="table2">
                    <thead>
                        <tr>
                            <th scope="col" style="width: 90px;">Granules</th>
                            <th scope="col">%</th>
                            <th scope="col">Granules</th>
                            <th scope="col">Specification</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">pp</th>
                            <td><input type="text" name="PPPurcentage" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="PPGranules" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="PPSpecification" class="form-control" style="border: none;"  ></td>
                        </tr>
                        <tr>
                            <th scope="row">Calcium</th>
                            <td><input type="text" name="CalciumPurcentage" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="CalciumGranules" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="CalciumSpecification" class="form-control" style="border: none;"  ></td>
                        </tr>
                        <tr>
                            <th scope="row">Modifier</th>
                            <td><input type="text" name="ModifierPurcentage" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="ModifierGranules" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="ModifierSpecification" class="form-control" style="border: none;"  ></td>
                        </tr>
                        <tr>
                            <th scope="row">Masterbatch</th>
                            <td><input type="text" name="MasterbatchPurcentage" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="MasterbatchGranules" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="MasterbatchSpecification" class="form-control" style="border: none;"  ></td>
                        </tr>
                        <tr>
                            <th scope="row">UV</th>
                            <td><input type="text" name="UVPurcentage" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="UVGranules" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="UVSpecification" class="form-control" style="border: none;"  ></td>
                        </tr>
                        <tr>
                            <th scope="row">LL/LLDPE</th>
                            <td><input type="text" name="LLPurcentage" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="LLGranules" class="form-control" style="border: none;"  ></td>
                            <td><input type="text" name="LLSpecification" class="form-control" style="border: none;"  ></td>
                        </tr>
                    </tbody>
                </table>

            </div> *@








            <div class="col-md-5" style="margin-top: 20px;">
                <table class="table table-bordered table-dark" id="table2">
                    <thead>
                        <tr>
                            <th scope="col" style="width: 90px;">Granules</th>
                            <th scope="col">%</th>
                            <th scope="col">Granules</th>
                            <th scope="col">Specification</th>
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var products in Model.productEntities)
                        {
                            var value1 = products.Product + "Percentage";
                            var value2 = products.Product + "Granules";
                            var value3 = products.Product + "Specification";
                            <tr>
                                <th scope="row">@products.Product</th>
                                <td><input type="text" id="@value1" class="form-control" style="border: none;"></td>
                                <td><input type="text" id="@value2" class="form-control" style="border: none;"></td>
                                <td><input type="text" id="@value3" class="form-control" style="border: none;"></td>
                            </tr>
                        }

                    </tbody>
                </table>

            </div>


            <div class="col-md-2" style="margin-top: 20px;">
                <table class="table table-bordered table-dark">
                    <thead>
                        <tr>
                            <th scope="col" colspan="2" style="text-align: center;"> Actual Granual Consumption</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="text" name="ActualGranual1" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="ActualGranual2" class="form-control" style="border: none;"></td>
                        </tr>
                        <tr>
                            <td><input type="text" name="ActualGranual3" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="ActualGranual4" class="form-control" style="border: none;"></td>
                        </tr>

                        <tr>
                            <td><input type="text" name="ActualGranual5" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="ActualGranual6" class="form-control" style="border: none;"></td>
                        </tr>

                        <tr>
                            <td><input type="text" name="ActualGranual7" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="ActualGranual8" class="form-control" style="border: none;"></td>
                        </tr>


                        <tr>
                            <td><input type="text" name="ActualGranual9" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="ActualGranual10" class="form-control" style="border: none;"></td>
                        </tr>

                        <tr>
                            <td><input type="text" name="ActualGranual11" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="ActualGranual12" class="form-control" style="border: none;"></td>
                        </tr>

                    </tbody>
                </table>
            </div>




            <div class="col-md-5" style="margin-top: -270px;">
                <table class="table table-bordered table-dark">
                    <thead>
                        <tr>
                            <th scope="col" style="width:100px;">Parameters</th>
                            <th scope="col">Required</th>
                            <th scope="col">Actual</th>
                            <th scope="col">Remarks</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">Denier</th>
                            <td><input type="text" name="DenierRequired" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="DenierActual" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="DenierRemarks" class="form-control" style="border: none;"></td>
                        </tr>
                        <tr>
                            <th scope="row">Tape Width</th>
                            <td><input type="text" name="TapeWidthRequired" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="TapeWidthActual" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="TapeWidthRemarks" class="form-control" style="border: none;"></td>
                        </tr>

                        <tr>
                            <th scope="row">Strenght</th>
                            <td><input type="text" name="StrenghtRequired" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="StrenghtActual" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="StrenghtRemarks" class="form-control" style="border: none;"></td>
                        </tr>

                        <tr>
                            <th scope="row">Elongation</th>
                            <td><input type="text" name="ElongationRequired" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="ElongationActual" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="ElongationRemarks" class="form-control" style="border: none;"></td>
                        </tr>


                        <tr>
                            <th scope="row">QNT In KGS</th>
                            <td><input type="text" name="KGSRequired" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="KGSActual" class="form-control" style="border: none;"></td>
                            <td><input type="text" name="KGSRemarks" class="form-control" style="border: none;"></td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <input type="text" name="GranualData" id="GranualData" class="form-control" style="display:none" hidden>


            <div class="col-md-1" style="font-weight: bold; margin-top:-15px; float: right;">
                <button id="on" type="submit" class="btn mjks" onclick="Submit()"
                        style="color:#FFFFFF;height:30px; width: 99px;">
                    <i class="fa fa-floppy-o" aria-hidden="true"></i>SUBMIT
                </button>
            </div>



        </form>

    </div>


    </div>


   
    <hr style="border: 1px solid #000000bf;
    opacity: 0.2;">

    <div class="row">

    <div class="col-md-12" style="margin-top:15px;">


    <div class="panel-body" style="margin-top:5px; margin-bottom:15px;">
    <div style="overflow-x: auto;">

              

    <table class="table datatable">
    <thead>

    <tr>
    <th>SR No</th>
    <th>Date</th>
    <th>Program No</th>
    <th>Job Code</th>
    <th> Create Colour </th>
    <th>Action</th>
    </tr>
    </thead>

    <tbody>
                        @{
                            var counter = 1;
                        }

                            @foreach (var data in Model.TapeLineProgramEntities)
                            {
                                <tr>
                                    <td>@counter</td>
                                    <td>@data.Date.ToShortDateString()</td>
                                    <td>@data.ProgrameNo</td>
                                    <td>@data.JobCode</td>
                                    <td>@data.CreateColor</td>

                                    <td style="width: 10%">


                                        <button data-bs-toggle="modal" data-bs-target="#exampleModal" style="background-color:#1fa67a; border:none; max-height:25px; margin-top:-5px; margin-bottom:-5px;" type="button" class="btn btn-info view-btn" data-toggle="tooltip" data-placement="top" title="Edit" onclick="GetReletedData(@data.Id);" ><i class="fa fa-info-circle" aria-hidden="true"></i></button>

                                        <button style="background-color:#3399ff; border:none; max-height:25px; margin-top:-5px; margin-bottom:-5px;" type="button" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="Edit"><i class="fa fa-edit" style="margin-left:5px;"></i></button>
                                    <button style="background-color:#ff0000; border:none; max-height:25px; margin-top:-5px; margin-bottom:-5px;" type="button" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="Delete" onclick="Delete(@data.Id)"><i class="fa fa-trash-o" style="margin-left:5px;"></i></button>
                                    </td>
                                </tr>

                            }
 


    </tbody>
    </table>
    </div>
    </div>


    </div>

    </div>













<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style="overflow-x:hidden !important; overflow-y: hidden">
    <div class="modal-dialog " style="margin-top:177px; width:88% !important;">
        <div class="modal-content">
            <div class="modal-header" style="padding:0px !important; line-height:0px !important;">
                <h5 class="modal-title" id="exampleModalLabel" style=" display: inline; margin-left: 12px !important;">
                    Tape Line Programme
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="float: inline-end;color: red; border: none; font:2rem; margin:10px;">
                    X
                </button>
            </div>

            <div class="modal-body">

                <div class="parent">
                    <!-- Your existing content goes here -->
                </div>


            </div>

        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" onclick="printReciept();" data-bs-dismiss="modal">Print</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>

    </div>


</div>


<script>






    var today = new Date().toISOString().split('T')[0];

    // Set the value of the date input field
    document.getElementById('date').value = today;


    // Trigger animation on page load
    window.onload = function () {
        var alertElement = document.getElementById('customAlert');
        alertElement.classList.add('show');

        // Hide the alert after a delay
        setTimeout(function () {
            alertElement.classList.remove('show');
        }, 3000); // Adjust the delay (in milliseconds) as needed
    };


// print reciept 
    function printReciept() {
        var printWindow = window.open('', '_blank');

        var table1 = $('.table1').html();
        var table2 = $('.table2').html();
        var table3 = $('.table3').html();

        printWindow.document.write('<div style="margin:120px;">');

        printWindow.document.write('<div>');
        printWindow.document.write(table1);
        printWindow.document.write('</div>');

        printWindow.document.write('<div style="margin-top:10px; margin-bottom:10px;">');
        printWindow.document.write(table2);
        printWindow.document.write('</div>');


        printWindow.document.write('<div>');
        printWindow.document.write(table3);
        printWindow.document.write('</div>');

        printWindow.document.write('</div>');

        printWindow.document.close();

    printWindow.print();
    }


    // function chiefcomp1(Uhid, pid) {
    //     var user = {};
    //     var customers = new Array();
    //     var table = document.getElementById("chieftbl");
    //     for (var i = 2; i < table.rows.length; i++) {
    //         var row = table.rows[i];
    //         var customer = {};
    //         customer.complaint = row.cells[0].innerHTML;
    //         customer.eye = row.cells[1].innerHTML;
    //         customer.duration = row.cells[2].innerHTML;
    //         customer.remark = row.cells[3].innerHTML;
    //         customers.push(customer);
    //     }

    //     var obj = {};
    //     obj.array = JSON.stringify(customers);
    //     obj.ID = Uhid; obj.PID = pid;
    //     $.ajax({
    //         type: "POST",
    //         url: "pcheck.aspx/SaveData",
    //         data: JSON.stringify(obj),
    //         contentType: "application/json; charset=utf-8",
    //         dataType: "json",
    //         success: function (er) {

    //         },
    //         error: function (error) {
    //             console.log(JSON.stringify(error));
    //         }
    //     });
    // }





    // function Submit() {
    //     // Serialize form data
    //     var formData = $("#tapeLineProgram").serializeArray();

    //     var Granulas = [];

    //     // Get all rows in the table with id "table2"
    //     var tableRows = document.querySelectorAll("#table2 tbody tr");

    //     // Iterate over each row
    //     tableRows.forEach(function (row) {
    //         var granual = {};
    //         granual.RowName = row.cells[0].textContent.trim();
    //         granual.Purcentage = row.cells[1].querySelector('input').value.trim();
    //         granual.Granual = row.cells[2].querySelector('input').value.trim();
    //         granual.Specification = row.cells[3].querySelector('input').value.trim();
    //         Granulas.push(granual);
    //     });

    //     // Create an object with the form data and Granulas
    //     var dataToSend = {
    //         array: JSON.stringify(Granulas),
    //         OtherInputs: formData
    //     };

    //     $.ajax({
    //         type: "POST",
    //         url: "/Dashboard/InsertTapeLinePro",
    //         data: JSON.stringify(dataToSend),
    //         contentType: "application/json; charset=utf-8",
    //         dataType: "json",
    //         success: function (response) {
    //             // Handle success response
    //             console.log(response);
    //         },
    //         error: function (error) {
    //             // Handle error
    //             console.log(JSON.stringify(error));
    //         }
    //     });
    // }


    function Submit() {
        var Granulas = [];

        // Get all rows in the table with id "table2"
        var tableRows = document.querySelectorAll("#table2 tbody tr");

        // Iterate over each row
        tableRows.forEach(function (row) {
            var granual = {};
            granual.RowName = row.cells[0].textContent.trim();
            granual.Purcentage = row.cells[1].querySelector('input').value.trim();
            granual.Granual = row.cells[2].querySelector('input').value.trim();
            granual.Specification = row.cells[3].querySelector('input').value.trim();
            Granulas.push(granual);
        });

        // Convert the array to a JSON string
        var granulasJson = JSON.stringify(Granulas);

        // Set the value of the hidden input with the JSON string
        $("#GranualData").val(granulasJson);
    }




   


    // ajax coll for display related data on view

    function GetReletedData(id){

        var valueID = id - 1;

        $.ajax({
            url: '/Dashboard/viewRelatedDate/' + id,
            method: 'GET',
            success: function (data) {
                // Assuming data[0].granualData is a string
                var granualDataArray = JSON.parse(data[0].granualData);

                

                // Get the parent div
                var parentDiv = document.querySelector('.parent');

                // The HTML code you want to append
                var htmlToAppend = `
            <!-- Paste your entire HTML code here -->

         <div class="row g-2 children">
                          <div class="col-md-5 table1"><table style="width:100%; border-collapse: collapse; border: 1px solid #000;">
        <thead>
            <tr style="background-color: #b0b2b4; color: #fff;">
                <th style="border: 1px solid #000;">Date</th>
                <th style="border: 1px solid #000;">Job Code</th>
                <th style="border: 1px solid #000;">Program No</th>
                <th style="border: 1px solid #000;">Create colour</th>
                <th style="border: 1px solid #000;">Pen Making On Bobbin</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="border: 1px solid #000;">
                        <label style="font-weight: 100; margin-left: 7px;">${new Date(data[0].date).toLocaleDateString()}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].jobCode}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].programeNo}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].createColor}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].bobin}</label>
                </td>
            </tr>
        </tbody>
    </table>

                      </div>

                          <div class="col-md-5"><table style="width:100%; border-collapse: collapse; border: 1px solid #000;">
        <thead>
            <tr style="background-color: #b0b2b4; color: #fff;">
                <th style="width: 90px; border: 1px solid #000;">Granules</th>
                <th style="border: 1px solid #000;">%</th>
                <th style="border: 1px solid #000;">Granules</th>
                <th style="border: 1px solid #000;">Specification</th>
            </tr>
        </thead>
        <tbody>

             <!-- Using forEach loop to generate rows dynamically -->
                ${granualDataArray.map(function (Granials) {
                    return `
                        <tr>
                          
                            <td style="border: 1px solid #000;">
                                <label style="font-weight: 100; margin-left: 7px;">${Granials.RowName}</label>
                            </td>
                            <td style="border: 1px solid #000;">
                                <label style="font-weight: 100; margin-left: 7px;">${Granials.Purcentage}</label>
                            </td>
                            <td style="border: 1px solid #000;">
                                <label style="font-weight: 100; margin-left: 7px;">${Granials.Granual}</label>
                            </td>
                            <td style="border: 1px solid #000;">
                                <label style="font-weight: 100; margin-left: 7px;">${Granials.Specification}</label>
                            </td>
                        </tr>
                    `;
                }).join('')}
                <!-- End forEach loop -->
        </tbody>
    </table>

                      </div>








                      <!-- Actual Granual Consumption table -->
                              <div class="col-md-2 table2"><table style="width:100%; border-collapse: collapse; border: 1px solid #000;">

        <tr style="background-color: #b0b2b4; color: #fff;">
            <th style="width: 90px; text-align:center; border: 1px solid #000;" colspan="2">
                Actual Granule Consumption
            </th>
        </tr>

        <tr>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual1}</label>
            </td>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual2}</label>
            </td>
        </tr>

        <tr>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual3}</label>
            </td>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual4}</label>
            </td>
        </tr>

        <tr>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual5}</label>
            </td>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual6}</label>
            </td>
        </tr>

        <tr>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual7}</label>
            </td>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual8}</label>
            </td>
        </tr>

        <tr>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual9}</label>
            </td>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual10}</label>
            </td>
        </tr>

        <tr>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual11}</label>
            </td>
            <td style="border: 1px solid #000;">
                <label style="font-weight: 100; margin-left: 7px;">${data[0].actualGranual12}</label>
            </td>
        </tr>
    </table>

                      </div>







                          <div class="col-md-5 table3" style="margin-top: -50px;">
                              <table style="width:100%; border-collapse: collapse; border: 1px solid #000;">
        <thead>
            <tr style="background-color: #b0b2b4; color: #fff;">
                <th style="width: 90px; border: 1px solid #000;">Parameters</th>
                <th style="border: 1px solid #000;">Required</th>
                <th style="border: 1px solid #000;">Actual</th>
                <th style="border: 1px solid #000;">Remarks</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="border: 1px solid #000;">Denier</td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].denierRequired}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].denierActual}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].denierRemarks}</label>
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #000;">Tape Width</td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].tapeWidthRequired}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].tapeWidthActual}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].tapeWidthRemarks}</label>
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #000;">Strength</td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].strenghtRequired}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].strenghtActual}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].strenghtRemarks}</label>
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #000;">Elongation</td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].elongationRequired}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].elongationActual}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].elongationRemarks}</label>
                </td>
            </tr>
            <tr>
                <td style="border: 1px solid #000;">QNT In KGS</td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].kgsRequired}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].kgsActual}</label>
                </td>
                <td style="border: 1px solid #000;">
                    <label style="font-weight: 100; margin-left: 7px;">${data[0].kgsRemarks}</label>
                </td>
            </tr>
            <!-- Add more rows as needed -->
        </tbody>
    </table>

                      </div>
                  </div>



          `;



                $(".parent").empty();

                // Create a temporary div to hold the new HTML content
                var tempDiv = document.createElement('div');
                tempDiv.innerHTML = htmlToAppend;

                // Append the new content to the parent div
                while (tempDiv.firstChild) {
                    parentDiv.appendChild(tempDiv.firstChild);
                }

            },
            error: function () {
                alert('Failed to fetch data.');
            }
        });

    }



    // ajax cll for delete data

    function Delete(value) {
        var id = value;

        var userConfirmed = confirm("Are you sure you want to delete?");

        // Check if the user confirmed
        if (userConfirmed) {
            $.ajax({
                url: '/Dashboard/DaleteTapeLine/' + id,
                type: 'POST', 
                success: function (data) {
                    console.log("Delete successful");
                    location.reload();
                },
                error: function (error) {
                    console.error("Error deleting:", error);
                    location.reload();
                }
            });
        } else {
            console.log("Deletion canceled by user");
        }
    }


    // form validation start *************


   // table one
    


   // table  two



   // table three  

   //table  four 

    
   // form validation end here *************
        function validateForm() {
            // Validation logic for the first set of fields
            var date = document.getElementById('date').value;
            var programNo = document.getElementById('programNo').value;
            var jobcode = document.getElementById('jobcode').value;
            var createcolor = document.getElementById('createcolor').value;
            var bobine = document.getElementById('bobine').value;

            document.getElementById('dateError').innerHTML = "";
            document.getElementById('programNoError').innerHTML = "";
            document.getElementById('jobcodeError').innerHTML = "";
            document.getElementById('createcolorError').innerHTML = "";
            document.getElementById('bobineError').innerHTML = "";
            document.getElementById('date').style.borderColor = "green";

            var isValid = true;

            if (date === "") {
                isValid = false;
                document.getElementById('date').style.borderColor = "red";
                document.getElementById('dateError').innerHTML = "Date is required.";
            }

            if (programNo === "") {
                isValid = false;
                document.getElementById('programNoError').innerHTML = "Program No is required.";
            }

            if (jobcode === "") {
                isValid = false;
                document.getElementById('jobcodeError').innerHTML = "Job Code is required.";
            }

            if (createcolor === "") {
                isValid = false;
                document.getElementById('createcolor').style.borderColor = "red";
                document.getElementById('createcolorError').innerHTML = "Create Color is required.";
            }

            if (bobine === "") {
                isValid = false;
                document.getElementById('bobine').style.borderColor = "red";
                document.getElementById('bobineError').innerHTML = "Bobine is required.";
            }

            // Validation logic for the second set of fields
            var party = document.getElementById('party').value;
            var product = document.getElementById('product').value;
            var grade = document.getElementById('grade').value;
            var quantity = document.getElementById('quantity').value;

            document.getElementById('partyError').innerHTML = "";
            document.getElementById('productError').innerHTML = "";
            document.getElementById('gradeError').innerHTML = "";
            document.getElementById('quantityError').innerHTML = "";

            if (party === "") {
                isValid = false;
                document.getElementById('partyError').innerHTML = "Party is required.";
            }

            if (product === "") {
                isValid = false;
                document.getElementById('productError').innerHTML = "Product is required.";
            }

            if (grade === "") {
                isValid = false;
                document.getElementById('gradeError').innerHTML = "Grade is required.";
            }

            if (quantity === "") {
                isValid = false;
                document.getElementById('quantityError').innerHTML = "Quantity is required.";
            }

            return isValid;
        }



    // var sections = [
    //     { id: 'section1', fields: ['date', 'programNo', 'jobcode', 'createcolor', 'bobine'] },
    //     { id: 'section2', fields: ['PPPurcentage', 'PPGranules', 'PPSpecification', 'CalciumPurcentage', 'CalciumGranules', 'CalciumSpecification'] },
    //     { id: 'section3', fields: ['ModifierPurcentage', 'ModifierGranules', 'ModifierSpecification', 'MasterbatchPurcentage', 'MasterbatchGranules', 'MasterbatchSpecification'] },
    //     { id: 'section4', fields: ['UVPurcentage', 'UVGranules', 'UVSpecification', 'LLPurcentage', 'LLGranules', 'LLSpecification'] }
    //     // Add more sections as needed
    // ];

    // function validateForm() {
    //     var isValid = true;

    //     for (var i = 0; i < sections.length; i++) {
    //         var section = sections[i];
    //         isValid = validateSection(section) && isValid;
    //     }

    //     if (!isValid) {
    //         alert("Please fill in all required fields.");
    //     }

    //     return isValid;
    // }

    // function validateSection(section) {
    //     var isValidSection = true;

    //     for (var j = 0; j < section.fields.length; j++) {
    //         var fieldId = section.fields[j];
    //         var value = document.getElementById(fieldId).value;

    //         resetError(fieldId);

    //         if (value === "") {
    //             isValidSection = false;
    //             displayError(fieldId, fieldId + " is required.");
    //         }
    //     }

    //     return isValidSection;
    // }

    // function resetError(fieldId) {
    //     document.getElementById(fieldId + 'Error').innerHTML = "";
    //     document.getElementById(fieldId).style.borderColor = "";
    // }

    // function displayError(fieldId, errorMessage) {
    //     document.getElementById(fieldId + 'Error').innerHTML = errorMessage;
    //     document.getElementById(fieldId).style.borderColor = "red";
    // }


</script>